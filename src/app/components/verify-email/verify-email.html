<div class="login-page">
  <!-- Left Panel - Branding -->
  <div class="brand-panel">
    <div class="brand-content">
      <!-- Decorative Elements -->
      <div class="decoration decoration-1"></div>
      <div class="decoration decoration-2"></div>
      <div class="decoration decoration-3"></div>

      <!-- Logo -->
      <div class="logo-container">
        <img src="assets/images/jai1-logo.svg" alt="JAI1 Logo" class="brand-logo">
      </div>

      <!-- Main Text -->
      <h1 class="brand-title">Verificacion<br><span class="highlight">de email.</span></h1>

      <p class="brand-subtitle">
        Estamos verificando tu direccion de correo electronico para activar tu cuenta.
      </p>

      <!-- Trust Badge -->
      <div class="trust-badge">
        <span class="badge-icon">&#10003;</span>
        <span>Tu informacion esta protegida con encriptacion</span>
      </div>
    </div>
  </div>

  <!-- Right Panel - Content -->
  <div class="form-panel">
    <div class="form-wrapper">
      <!-- Mobile Logo -->
      <div class="mobile-logo">
        <img src="assets/images/jai1-logo.svg" alt="JAI1 Logo" class="brand-logo-mobile">
      </div>

      <!-- Loading State -->
      @if (isLoading) {
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <h2>Verificando tu email...</h2>
          <p>Por favor espera un momento</p>
        </div>
      }

      <!-- Success State -->
      @if (isVerified) {
        <div class="success-container">
          <div class="success-icon-wrapper">
            <div class="success-icon">
              <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="#059669" stroke-width="2"/>
                <path d="M8 12L11 15L16 9" stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>

          <div class="success-header">
            <h2>Email verificado!</h2>
            <p>Tu cuenta ha sido activada exitosamente. Ya puedes iniciar sesion.</p>
          </div>

          <button class="btn-primary" (click)="goToLogin()">
            Ir al login
            <span class="btn-arrow">&rarr;</span>
          </button>
        </div>
      }

      <!-- Error State -->
      @if (errorMessage && !isLoading && !isVerified) {
        <!-- Back Link -->
        <a class="back-link" (click)="goToLogin()">
          <span class="back-arrow">&larr;</span>
          Volver al inicio de sesion
        </a>

        <div class="error-container">
          <div class="error-icon-wrapper">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="10" stroke="#be123c" stroke-width="2"/>
              <path d="M15 9L9 15M9 9L15 15" stroke="#be123c" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>

          <div class="error-header">
            <h2>Verificacion fallida</h2>
            <p>{{ errorMessage }}</p>
          </div>

          <!-- Resend Form -->
          @if (showResendForm) {
            <div class="resend-form">
              <h4>Reenviar verificacion</h4>
              <p>Ingresa tu email para recibir un nuevo enlace de verificacion.</p>

              @if (resendError) {
                <div class="error-alert">
                  <span class="error-alert-icon">&#9888;</span>
                  <span>{{ resendError }}</span>
                </div>
              }

              @if (resendSuccess) {
                <div class="success-alert">
                  <span class="success-alert-icon">&#10003;</span>
                  <span>Si el email existe y no esta verificado, recibiras un nuevo enlace.</span>
                </div>
              }

              <div class="input-group">
                <label for="email">Correo electronico</label>
                <div class="input-wrapper">
                  <span class="input-icon">&#9993;</span>
                  <input
                    type="email"
                    id="email"
                    [(ngModel)]="resendEmail"
                    name="email"
                    placeholder="tu@email.com"
                    [disabled]="isResending"
                    autocomplete="email"
                  >
                </div>
              </div>

              <button
                class="btn-secondary resend-btn"
                (click)="resendVerification()"
                [disabled]="isResending || !resendEmail"
              >
                @if (isResending) {
                  <span class="spinner"></span>
                  <span>Enviando...</span>
                } @else {
                  <span>Reenviar verificacion</span>
                }
              </button>
            </div>
          }

          <button class="btn-primary" (click)="goToLogin()">
            Ir al login
            <span class="btn-arrow">&rarr;</span>
          </button>
        </div>
      }
    </div>
  </div>
</div>
