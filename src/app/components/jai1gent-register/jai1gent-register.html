<div class="register-page">
  <!-- Left Panel - Branding -->
  <div class="brand-panel">
    <div class="brand-content">
      <!-- Decorative Elements -->
      <div class="decoration decoration-1"></div>
      <div class="decoration decoration-2"></div>
      <div class="decoration decoration-3"></div>

      <!-- Logo -->
      <div class="logo-container">
        <img src="assets/images/jai1-logo.svg" alt="JAI1 Logo" class="brand-logo">
      </div>

      <!-- Main Text -->
      <h1 class="brand-title">Conviertete en<br><span class="highlight">JAI1GENT</span></h1>

      <p class="brand-subtitle">
        Unite a nuestro programa de referidos exclusivo y gana comisiones por cada cliente que traigas.
      </p>

      <!-- Feature Pills -->
      <div class="feature-pills">
        <div class="pill">
          <span class="pill-icon">5-25%</span>
          <span>Comisiones</span>
        </div>
        <div class="pill">
          <span class="pill-icon">$$$</span>
          <span>Sin limite</span>
        </div>
        <div class="pill">
          <span class="pill-icon">24/7</span>
          <span>Soporte</span>
        </div>
      </div>

      <!-- Trust Badge -->
      <div class="trust-badge">
        <span class="badge-icon">*</span>
        <span>Programa exclusivo por invitación</span>
      </div>
    </div>
  </div>

  <!-- Right Panel - Form -->
  <div class="form-panel">
    <div class="form-wrapper">
      <!-- Mobile Logo -->
      <div class="mobile-logo">
        <img src="assets/images/jai1-logo.svg" alt="JAI1 Logo" class="brand-logo-mobile">
      </div>

      <!-- Form Header -->
      <div class="form-header">
        <h2>Registro JAI1GENT</h2>
        <p>Crea tu cuenta de agente de referidos</p>
      </div>

      <!-- Error Message -->
      @if (errorMessage) {
        <div class="error-alert">
          <span class="error-icon">!</span>
          <span>{{ errorMessage }}</span>
        </div>
      }

      <!-- Register Form -->
      <form class="auth-form" (ngSubmit)="onRegister()">
        <!-- Invite Code -->
        <div class="input-group">
          <label for="inviteCode">Código de invitación *</label>
          <div class="input-wrapper" [class.valid]="inviteCodeValid === true" [class.invalid]="inviteCodeValid === false">
            <span class="input-icon">*</span>
            <input
              type="text"
              id="inviteCode"
              [(ngModel)]="inviteCode"
              name="inviteCode"
              placeholder="XXXXXXXX"
              maxlength="8"
              (input)="onInviteCodeChange()"
              required
              autocomplete="off"
            >
            @if (isValidatingCode) {
              <span class="validation-spinner"></span>
            }
            @if (inviteCodeValid === true) {
              <span class="validation-icon valid">OK</span>
            }
            @if (inviteCodeValid === false) {
              <span class="validation-icon invalid">X</span>
            }
          </div>
          @if (inviteCodeMessage) {
            <span class="input-hint" [class.error]="inviteCodeValid === false">{{ inviteCodeMessage }}</span>
          }
        </div>

        <!-- Name Row -->
        <div class="input-row">
          <div class="input-group">
            <label for="firstName">Nombre *</label>
            <div class="input-wrapper">
              <input
                type="text"
                id="firstName"
                [(ngModel)]="firstName"
                name="firstName"
                placeholder="Tu nombre"
                required
                autocomplete="given-name"
              >
            </div>
          </div>
          <div class="input-group">
            <label for="lastName">Apellido *</label>
            <div class="input-wrapper">
              <input
                type="text"
                id="lastName"
                [(ngModel)]="lastName"
                name="lastName"
                placeholder="Tu apellido"
                required
                autocomplete="family-name"
              >
            </div>
          </div>
        </div>

        <!-- Email -->
        <div class="input-group">
          <label for="email">Correo electronico *</label>
          <div class="input-wrapper">
            <span class="input-icon">@</span>
            <input
              type="email"
              id="email"
              [(ngModel)]="email"
              name="email"
              placeholder="tu@email.com"
              required
              autocomplete="email"
            >
          </div>
        </div>

        <!-- Phone -->
        <div class="input-group">
          <label for="phone">Teléfono (opcional)</label>
          <div class="input-wrapper">
            <span class="input-icon">#</span>
            <input
              type="tel"
              id="phone"
              [(ngModel)]="phone"
              name="phone"
              placeholder="+1 (555) 123-4567"
              autocomplete="tel"
            >
          </div>
        </div>

        <!-- Password -->
        <div class="input-group">
          <label for="password">Contraseña *</label>
          <div class="input-wrapper">
            <span class="input-icon">*</span>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              [(ngModel)]="password"
              name="password"
              placeholder="Minimo 8 caracteres"
              required
              autocomplete="new-password"
            >
            <button
              type="button"
              class="toggle-visibility"
              (click)="togglePassword()"
            >
              {{ showPassword ? 'Ocultar' : 'Ver' }}
            </button>
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="input-group">
          <label for="confirmPassword">Confirmar contraseña *</label>
          <div class="input-wrapper">
            <span class="input-icon">*</span>
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              placeholder="Repite tu contraseña"
              required
              autocomplete="new-password"
            >
            <button
              type="button"
              class="toggle-visibility"
              (click)="toggleConfirmPassword()"
            >
              {{ showConfirmPassword ? 'Ocultar' : 'Ver' }}
            </button>
          </div>
        </div>

        <button type="submit" class="btn-register" [disabled]="isLoading || inviteCodeValid !== true">
          @if (isLoading) {
            <span class="spinner"></span>
            <span>Registrando...</span>
          } @else {
            <span>Crear cuenta JAI1GENT</span>
            <span class="btn-arrow">-></span>
          }
        </button>
      </form>

      <!-- Footer -->
      <p class="form-footer">
        Ya tenes cuenta?
        <a (click)="goToLogin()">Inicia sesion</a>
      </p>
    </div>
  </div>
</div>
