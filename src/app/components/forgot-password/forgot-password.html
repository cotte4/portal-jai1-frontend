<div class="login-page">
  <!-- Left Panel - Branding -->
  <div class="brand-panel">
    <div class="brand-content" #brandContent>
      <!-- Decorative Elements -->
      <div class="decoration decoration-1"></div>
      <div class="decoration decoration-2"></div>
      <div class="decoration decoration-3"></div>

      <!-- Logo -->
      <div class="logo-container">
        <span class="logo-j">J</span><span class="logo-slash">/</span><span class="logo-ai">AI1</span>
      </div>

      <!-- Main Text -->
      <h1 class="brand-title">Recupera tu cuenta<br><span class="highlight">de forma segura.</span></h1>

      <p class="brand-subtitle">
        No te preocupes, te ayudamos a recuperar el acceso a tu cuenta en simples pasos.
      </p>

      <!-- Feature Pills -->
      <div class="feature-pills">
        <div class="pill">
          <span class="pill-icon">ğŸ”’</span>
          <span>Proceso seguro</span>
        </div>
        <div class="pill">
          <span class="pill-icon">âš¡</span>
          <span>Email instantaneo</span>
        </div>
        <div class="pill">
          <span class="pill-icon">ğŸ’¬</span>
          <span>Soporte 24/7</span>
        </div>
      </div>

      <!-- Trust Badge -->
      <div class="trust-badge">
        <span class="badge-icon">âœ“</span>
        <span>Tu informacion esta protegida con encriptacion</span>
      </div>
    </div>
  </div>

  <!-- Right Panel - Form -->
  <div class="form-panel">
    <div class="form-wrapper" #formWrapper>
      <!-- Mobile Logo -->
      <div class="mobile-logo">
        <span class="logo-j">J</span><span class="logo-slash">/</span><span class="logo-ai">AI1</span>
      </div>

      <!-- Request Form (Initial State) -->
      @if (!isSubmitted) {
        <!-- Back Link -->
        <a class="back-link" (click)="goToLogin()">
          <span class="back-arrow">â†</span>
          Volver al inicio de sesion
        </a>

        <!-- Form Header -->
        <div class="form-header">
          <h2>Â¿Olvidaste tu contrasena?</h2>
          <p>Ingresa tu email y te enviaremos instrucciones para restablecerla.</p>
        </div>

        <!-- Error Message -->
        @if (errorMessage) {
          <div class="error-alert">
            <span class="error-icon">âš ï¸</span>
            <span>{{ errorMessage }}</span>
          </div>
        }

        <!-- Form -->
        <form class="auth-form" (ngSubmit)="onSubmit()">
          <div class="input-group">
            <label for="email">Correo electronico</label>
            <div class="input-wrapper">
              <span class="input-icon">âœ‰ï¸</span>
              <input
                type="email"
                id="email"
                [(ngModel)]="email"
                name="email"
                placeholder="tu@email.com"
                [disabled]="isLoading"
                required
                autocomplete="email"
              >
            </div>
          </div>

          <button type="submit" class="btn-primary" [disabled]="isLoading" appHoverScale>
            @if (isLoading) {
              <span class="spinner"></span>
              <span>Enviando...</span>
            } @else {
              <span>Enviar instrucciones</span>
              <span class="btn-arrow">â†’</span>
            }
          </button>
        </form>

        <!-- Footer -->
        <p class="form-footer">
          Â¿Recordaste tu contrasena?
          <a (click)="goToLogin()">Inicia sesion</a>
        </p>
      }

      <!-- Success State -->
      @if (isSubmitted) {
        <!-- Back Link -->
        <a class="back-link" (click)="goToLogin()">
          <span class="back-arrow">â†</span>
          Volver al inicio de sesion
        </a>

        <!-- Success Icon -->
        <div class="success-container">
          <div class="success-icon-wrapper">
            <div class="success-icon">âœ‰ï¸</div>
            <div class="success-checkmark">âœ“</div>
          </div>

          <!-- Success Message -->
          <div class="success-header">
            <h2>Â¡Email enviado!</h2>
            <p>Enviamos instrucciones para restablecer tu contrasena a:</p>
            <span class="email-badge">{{ email }}</span>
          </div>

          <!-- Instructions -->
          <div class="instructions-card">
            <h4>Proximos pasos:</h4>
            <ul>
              <li>Revisa tu bandeja de entrada</li>
              <li>Haz click en el enlace del email</li>
              <li>Crea una nueva contrasena segura</li>
            </ul>
          </div>

          <!-- Actions -->
          <div class="success-actions">
            <button class="btn-secondary" (click)="resendEmail()" [disabled]="isLoading" appHoverScale>
              @if (isLoading) {
                <span>Enviando...</span>
              } @else {
                <span>Reenviar email</span>
              }
            </button>
            <button class="btn-primary" (click)="goToLogin()" appHoverScale>
              Volver al inicio
              <span class="btn-arrow">â†’</span>
            </button>
          </div>

          <!-- Spam Notice -->
          <div class="spam-notice">
            <span class="notice-icon">ğŸ’¡</span>
            <p>Â¿No encuentras el email? Revisa tu carpeta de spam o correo no deseado.</p>
          </div>
        </div>
      }
    </div>
  </div>
</div>
